{% extends "base.html" %}

{% block title %}{% if content.metadata.meta_title %}{{ content.metadata.meta_title }}{% else %}{{ content.title }}{%
endif %} - {{ site.title }}{% endblock %}

{% block description %}{% if content.metadata.meta_description %}{{ content.metadata.meta_description }}{% else %}{{
content.excerpt | default(value=site.description) }}{% endif %}{% endblock %}

{% block head %}
{% if content.metadata.canonical_url %}
<link rel="canonical" href="{{ content.metadata.canonical_url }}">{% endif %}
{% endblock %}

{% block content %}
<article>
    <header class="post-header">
        <h1>{{ content.title }}</h1>
        <div class="post-meta">
            {% if content.published_at %}
            <time>{{ content.published_at | format_date }}</time>
            {% endif %}
            {% if content.author %}
            <span class="separator">&middot;</span>
            <span>{{ content.author.username }}</span>
            {% endif %}
            {% if content.metadata.reading_time_minutes %}
            <span class="separator">&middot;</span>
            <span>{{ content.metadata.reading_time_minutes }} min read</span>
            {% endif %}
        </div>
        {% if content.tags | length > 0 %}
        <div class="post-tags">
            {% for tag in content.tags %}
            <a href="/tags/{{ tag.slug }}" class="tag">{{ tag.name }}</a>
            {% endfor %}
        </div>
        {% endif %}
    </header>

    <div class="content">{{ content.body_html | safe }}</div>
</article>
{% endblock %}