{% if realtime %}
<div class="realtime-stats">
    <div class="realtime-stat">
        <span class="realtime-dot"></span>
        <div>
            <div class="realtime-value">{{ realtime.active_sessions }}</div>
            <div class="realtime-label">Active now</div>
        </div>
    </div>
    <div class="realtime-stat">
        <div>
            <div class="realtime-value">{{ realtime.pageviews_30min }}</div>
            <div class="realtime-label">Last 30 min</div>
        </div>
    </div>
    {% if realtime.current_pages | length > 0 %}
    <div class="realtime-pages">
        <div class="realtime-label">Currently viewing:</div>
        <div class="current-pages-list">
            {% for page in realtime.current_pages | slice(end=5) %}
            <span class="current-page"
                >{{ page.path | truncate(length=30) }} ({{ page.visitors
                }})</span
            >
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>
{% else %}
<div class="realtime-stats">
    <div class="realtime-stat">
        <span
            class="realtime-dot"
            style="background: var(--text-muted); animation: none"
        ></span>
        <div>
            <div class="realtime-value">0</div>
            <div class="realtime-label">Active now</div>
        </div>
    </div>
    <div class="realtime-stat">
        <div>
            <div class="realtime-value">0</div>
            <div class="realtime-label">Last 30 min</div>
        </div>
    </div>
</div>
{% endif %}
